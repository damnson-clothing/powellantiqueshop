import{_ as P}from"./DTawXRPS.js";import{e as U,n as N,B as A,f as B,z as I,w as g,_ as q,j as n,o as l,a as t,b,d as v,g as o,c as m,t as y,k as M,l as S,m as a,v as d,s as w,F as j,r as E,C as k,q as T}from"./sYomq8En.js";const D={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},G={class:"mb-8"},L={key:0,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"},R={class:"space-y-6"},_={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},$=["value"],H={class:"space-y-6"},z={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},O={class:"sm:col-span-2"},J={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},K={class:"flex items-center"},Q={class:"flex items-center"},W={class:"space-y-6"},X={class:"mt-2 text-xs text-gray-500"},Y={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},Z=["disabled"],ee={key:0},te={key:1},ae=U({__name:"create",setup(oe){const V=N(),f=n([]),u=n(null),p=n(!1),r=n({name:"",description:"",price:0,categoryId:"",condition:"Excellent",material:"",history:"",images:[],isAvailable:!0,isFeatured:!1}),c=n("");A(c,i=>{r.value.images=i.split(`
`).map(e=>e.trim()).filter(e=>e.length>0)});const h=async()=>{try{const i=await $fetch("/api/categories");f.value=i}catch(i){console.error("Failed to load categories:",i)}},C=async()=>{try{p.value=!0,u.value=null,await $fetch("/api/admin/products",{method:"POST",body:r.value}),alert("Product created successfully!"),V.push("/admin/products")}catch(i){u.value=i.data?.message||i.message||"Failed to create product"}finally{p.value=!1}};return B(()=>{h()}),(i,e)=>{const x=P,F=q;return l(),I(F,{name:"admin"},{default:g(()=>[t("div",D,[t("div",G,[b(x,{to:"/admin/products",class:"text-sm text-primary-600 hover:text-primary-700 mb-4 inline-block"},{default:g(()=>[...e[10]||(e[10]=[v(" â† Back to Products ",-1)])]),_:1}),e[11]||(e[11]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Create New Product",-1)),e[12]||(e[12]=t("p",{class:"mt-2 text-sm text-gray-700"},"Add a new product to your inventory",-1))]),o(u)?(l(),m("div",L,y(o(u)),1)):M("",!0),t("form",{onSubmit:S(C,["prevent"]),class:"space-y-8 bg-white shadow sm:rounded-lg p-6"},[t("div",R,[e[20]||(e[20]=t("h2",{class:"text-lg font-medium text-gray-900"},"Basic Information",-1)),t("div",null,[e[13]||(e[13]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Product Name *",-1)),a(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>o(r).name=s),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,o(r).name]])]),t("div",null,[e[14]||(e[14]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description *",-1)),a(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=s=>o(r).description=s),rows:"4",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,o(r).description]])]),t("div",_,[t("div",null,[e[15]||(e[15]=t("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"Price ($) *",-1)),a(t("input",{id:"price","onUpdate:modelValue":e[2]||(e[2]=s=>o(r).price=s),type:"number",step:"0.01",min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,o(r).price,void 0,{number:!0}]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"condition",class:"block text-sm font-medium text-gray-700"},"Condition *",-1)),a(t("select",{id:"condition","onUpdate:modelValue":e[3]||(e[3]=s=>o(r).condition=s),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[...e[16]||(e[16]=[t("option",{value:"Excellent"},"Excellent",-1),t("option",{value:"Very Good"},"Very Good",-1),t("option",{value:"Good"},"Good",-1),t("option",{value:"Fair"},"Fair",-1)])],512),[[w,o(r).condition]])])]),t("div",null,[e[19]||(e[19]=t("label",{for:"categoryId",class:"block text-sm font-medium text-gray-700"},"Category *",-1)),a(t("select",{id:"categoryId","onUpdate:modelValue":e[4]||(e[4]=s=>o(r).categoryId=s),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[e[18]||(e[18]=t("option",{value:""},"Select a category",-1)),(l(!0),m(j,null,E(o(f),s=>(l(),m("option",{key:s.id,value:s.id},y(s.name),9,$))),128))],512),[[w,o(r).categoryId]])])]),t("div",H,[e[25]||(e[25]=t("h2",{class:"text-lg font-medium text-gray-900"},"Product Details",-1)),t("div",z,[t("div",null,[e[21]||(e[21]=t("label",{for:"material",class:"block text-sm font-medium text-gray-700"},"Material",-1)),a(t("input",{id:"material","onUpdate:modelValue":e[5]||(e[5]=s=>o(r).material=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,o(r).material]])]),t("div",O,[e[22]||(e[22]=t("label",{for:"history",class:"block text-sm font-medium text-gray-700"},"History / Provenance",-1)),a(t("textarea",{id:"history","onUpdate:modelValue":e[6]||(e[6]=s=>o(r).history=s),rows:"3",placeholder:"Historical information about this item...",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[d,o(r).history]])])]),t("div",J,[t("div",K,[a(t("input",{id:"isAvailable","onUpdate:modelValue":e[7]||(e[7]=s=>o(r).isAvailable=s),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[k,o(r).isAvailable]]),e[23]||(e[23]=t("label",{for:"isAvailable",class:"ml-2 block text-sm text-gray-900"}," Available for Purchase ",-1))]),t("div",Q,[a(t("input",{id:"isFeatured","onUpdate:modelValue":e[8]||(e[8]=s=>o(r).isFeatured=s),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[k,o(r).isFeatured]]),e[24]||(e[24]=t("label",{for:"isFeatured",class:"ml-2 block text-sm text-gray-900"}," Featured Product ",-1))])])]),t("div",W,[e[26]||(e[26]=t("h2",{class:"text-lg font-medium text-gray-900"},"Images",-1)),e[27]||(e[27]=t("p",{class:"text-sm text-gray-500"},"Enter image URLs (one per line). The first image will be the main product image.",-1)),t("div",null,[a(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=s=>T(c)?c.value=s:null),rows:"4",placeholder:`https://example.com/image1.jpg
https://example.com/image2.jpg`,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm font-mono text-xs"},null,512),[[d,o(c)]]),t("p",X,y(o(r).images.length)+" image(s) added ",1)])]),t("div",Y,[b(x,{to:"/admin/products",class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:g(()=>[...e[28]||(e[28]=[v(" Cancel ",-1)])]),_:1}),t("button",{type:"submit",disabled:o(p),class:"inline-flex justify-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[o(p)?(l(),m("span",ee,"Creating...")):(l(),m("span",te,"Create Product"))],8,Z)])],32)])]),_:1})}}});export{ae as default};
