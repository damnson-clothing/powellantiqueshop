import{_ as v}from"./DaRMw0Ry.js";import{e as _,f as w,z as b,w as c,_ as k,j as u,o,a as t,b as x,d as y,g as d,c as r,t as n,F as C,r as j,y as A,k as B}from"./6JbxToWv.js";const L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},M={class:"flex justify-between items-center mb-8"},N={key:0,class:"text-center py-12"},P={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"},F={key:2,class:"bg-white shadow overflow-hidden sm:rounded-lg"},$={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200"},V={class:"px-6 py-4 whitespace-nowrap"},z={class:"flex items-center"},D={class:"h-10 w-10 flex-shrink-0"},H=["src","alt"],T={key:1,class:"h-10 w-10 rounded bg-gray-200 flex items-center justify-center"},S={class:"ml-4"},G={class:"text-sm font-medium text-gray-900"},U={class:"text-sm text-gray-500"},q={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},K={class:"px-6 py-4 whitespace-nowrap"},O={class:"text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},W=["onClick"],X={key:0,class:"text-center py-12"},Y={class:"mt-6"},st=_({__name:"index",setup(Z){const i=u([]),m=u(!0),l=u(null),g=async()=>{try{m.value=!0,l.value=null;const a=await $fetch("/api/admin/products");i.value=a}catch(a){l.value=a.message||"Failed to load products"}finally{m.value=!1}},h=async a=>{if(confirm("Are you sure you want to delete this product? This action cannot be undone."))try{await $fetch(`/api/admin/products/${a}`,{method:"DELETE"}),i.value=i.value.filter(e=>e.id!==a),alert("Product deleted successfully")}catch(e){alert(e.message||"Failed to delete product")}};return w(()=>{g()}),(a,e)=>{const p=v,f=k;return o(),b(f,{name:"admin"},{default:c(()=>[t("div",L,[t("div",M,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Products"),t("p",{class:"mt-2 text-sm text-gray-700"},"Manage your product inventory")],-1)),x(p,{to:"/admin/products/create",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:c(()=>[...e[0]||(e[0]=[t("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),y(" Add Product ",-1)])]),_:1})]),d(m)?(o(),r("div",N,[...e[2]||(e[2]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"},null,-1),t("p",{class:"mt-4 text-gray-600"},"Loading products...",-1)])])):d(l)?(o(),r("div",P,n(d(l)),1)):(o(),r("div",F,[t("table",$,[e[5]||(e[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Product "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"relative px-6 py-3"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",E,[(o(!0),r(C,null,j(d(i),s=>(o(),r("tr",{key:s.id},[t("td",V,[t("div",z,[t("div",D,[s.images[0]?(o(),r("img",{key:0,class:"h-10 w-10 rounded object-cover",src:s.images[0],alt:s.name},null,8,H)):(o(),r("div",T,[...e[3]||(e[3]=[t("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),t("div",S,[t("div",G,n(s.name),1),t("div",U,n(s.slug),1)])])]),t("td",q,[t("div",J,n(s.category?.name||"N/A"),1)]),t("td",K,[t("div",O,"â‚±"+n(s.price.toFixed?s.price.toFixed(2):s.price),1)]),t("td",Q,[t("span",{class:A(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",s.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(s.isAvailable?"Available":"Unavailable"),3)]),t("td",R,[x(p,{to:`/admin/products/${s.id}`,class:"text-primary-600 hover:text-primary-900 mr-4"},{default:c(()=>[...e[4]||(e[4]=[y(" Edit ",-1)])]),_:1},8,["to"]),t("button",{onClick:I=>h(s.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,W)])]))),128))])]),d(i).length===0?(o(),r("div",X,[e[7]||(e[7]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),e[8]||(e[8]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No products",-1)),e[9]||(e[9]=t("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding a new product.",-1)),t("div",Y,[x(p,{to:"/admin/products/create",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700"},{default:c(()=>[...e[6]||(e[6]=[t("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),y(" Add Product ",-1)])]),_:1})])])):B("",!0)]))])]),_:1})}}});export{st as default};
