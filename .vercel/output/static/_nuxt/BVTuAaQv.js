import{X as i}from"./sYomq8En.js";const o=i("cart",{state:()=>({items:[]}),getters:{itemCount:t=>t.items.reduce((s,e)=>s+e.quantity,0),subtotal:t=>t.items.reduce((s,e)=>s+e.price*e.quantity,0),total:t=>t.items.reduce((s,e)=>s+e.price*e.quantity,0)},actions:{addItem(t){return this.items.find(e=>e.productId===t.id)?{success:!1,message:"Item already in cart"}:(this.items.push({id:Math.random().toString(36).substr(2,9),productId:t.id,name:t.name,price:Number(t.price),image:t.images[0]||"",slug:t.slug,quantity:1}),this.saveToLocalStorage(),{success:!0,message:"Item added to cart"})},removeItem(t){const s=this.items.findIndex(e=>e.id===t);s>-1&&(this.items.splice(s,1),this.saveToLocalStorage())},updateQuantity(t,s){const e=this.items.find(a=>a.id===t);e&&(e.quantity=Math.max(1,s),this.saveToLocalStorage())},clearCart(){this.items=[],this.saveToLocalStorage()},saveToLocalStorage(){localStorage.setItem("cart",JSON.stringify(this.items))},loadFromLocalStorage(){{const t=localStorage.getItem("cart");if(t)try{this.items=JSON.parse(t)}catch(s){console.error("Error loading cart:",s)}}}}});export{o as u};
