import{_ as E}from"./DaRMw0Ry.js";import{e as D,f as P,z as S,w as y,_ as A,j as m,o,a as e,c as n,F as b,r as v,y as x,g as l,d as _,t as r,k as f,b as O,A as I}from"./6JbxToWv.js";const V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},F={class:"border-b border-gray-200 mb-6"},T={class:"-mb-px flex space-x-8","aria-label":"Tabs"},B=["onClick"],M={key:0,class:"text-center py-12"},$={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"},G={key:2,class:"space-y-4"},j={class:"p-6"},z={class:"flex items-center justify-between mb-4"},H={class:"text-lg font-medium text-gray-900"},R={class:"text-sm text-gray-500"},U={class:"flex items-center space-x-3"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},J={class:"font-medium text-gray-900"},K={class:"text-gray-600"},Q={class:"font-medium text-gray-900"},W={class:"font-medium text-gray-900 text-lg"},X={key:0,class:"text-center py-12 bg-white rounded-lg shadow"},Y={class:"mt-1 text-sm text-gray-500"},ae=D({__name:"index",setup(Z){const i=m([]),c=m(!0),u=m(null),d=m("ALL"),h=[{label:"All Orders",value:"ALL"},{label:"Pending",value:"PENDING"},{label:"Processing",value:"PROCESSING"},{label:"Shipped",value:"SHIPPED"},{label:"Completed",value:"COMPLETED"},{label:"Cancelled",value:"CANCELLED"}],p=I(()=>d.value==="ALL"?i.value:i.value.filter(a=>a.status===d.value)),g=a=>a==="ALL"?i.value.length:i.value.filter(t=>t.status===a).length,w=a=>({PENDING:"bg-yellow-100 text-yellow-800",PROCESSING:"bg-blue-100 text-blue-800",SHIPPED:"bg-purple-100 text-purple-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",C=a=>{const t=new Date(a);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(t)},L=async()=>{try{c.value=!0,u.value=null;const a=await $fetch("/api/admin/orders");i.value=a}catch(a){u.value=a.message||"Failed to load orders"}finally{c.value=!1}};return P(()=>{L()}),(a,t)=>{const k=E,N=A;return o(),S(N,{name:"admin"},{default:y(()=>[e("div",V,[t[7]||(t[7]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Orders"),e("p",{class:"mt-2 text-sm text-gray-700"},"Manage customer orders and fulfillment")],-1)),e("div",F,[e("nav",T,[(o(),n(b,null,v(h,s=>e("button",{key:s.value,onClick:ee=>d.value=s.value,class:x([l(d)===s.value?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},[_(r(s.label)+" ",1),g(s.value)>0?(o(),n("span",{key:0,class:x([l(d)===s.value?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-900","ml-3 py-0.5 px-2.5 rounded-full text-xs font-medium inline-block"])},r(g(s.value)),3)):f("",!0)],10,B)),64))])]),l(c)?(o(),n("div",M,[...t[0]||(t[0]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-primary-600"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Loading orders...",-1)])])):l(u)?(o(),n("div",$,r(l(u)),1)):(o(),n("div",G,[(o(!0),n(b,null,v(l(p),s=>(o(),n("div",{key:s.id,class:"bg-white shadow rounded-lg overflow-hidden hover:shadow-md transition-shadow"},[e("div",j,[e("div",z,[e("div",null,[e("h3",H,"Order #"+r(s.orderNumber),1),e("p",R,r(C(s.createdAt)),1)]),e("div",U,[e("span",{class:x(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",w(s.status)])},r(s.status),3),O(k,{to:`/admin/orders/${s.id}`,class:"text-primary-600 hover:text-primary-900 text-sm font-medium"},{default:y(()=>[...t[1]||(t[1]=[_(" View Details → ",-1)])]),_:1},8,["to"])])]),e("div",q,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-gray-500 mb-1"},"Customer",-1)),e("p",J,r(s.customerName),1),e("p",K,r(s.customerEmail),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-500 mb-1"},"Items",-1)),e("p",Q,r(s.items.length)+" item(s)",1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-gray-500 mb-1"},"Total",-1)),e("p",W,"₱"+r(Number(s.total).toFixed(2)),1)])])])]))),128)),l(p).length===0?(o(),n("div",X,[t[5]||(t[5]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[6]||(t[6]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No orders found",-1)),e("p",Y,r(l(d)==="ALL"?"No orders have been placed yet.":`No ${l(d).toLowerCase()} orders.`),1)])):f("",!0)]))])]),_:1})}}});export{ae as default};
